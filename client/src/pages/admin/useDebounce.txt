let debounceTimeout;

const handleAddressInputChange = (e) => {
    const value = e.target.value;
    setPayload((prev) => ({ ...prev, address: value })); // Cập nhật address trong payload

    if (debounceTimeout) {
        clearTimeout(debounceTimeout); // Hủy timeout trước đó
    }

    if (value.length > 2) {
        debounceTimeout = setTimeout(async () => {
            try {
                const response = await axios.get(
                    `https://rsapi.goong.io/Place/AutoComplete?api_key=${GOONG_API_KEY}&input=${encodeURIComponent(value)}`
                );
                const data = response.data;
                setAddressSuggestions(data.predictions || []); // Đặt suggestions
            } catch (error) {
                console.error('Error fetching address suggestions:', error);
            }
        }, 500); // Gọi API sau 500ms
    } else {
        setAddressSuggestions([]); // Xóa suggestions nếu ít hơn 3 ký tự
    }
};